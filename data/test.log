/*C5*/SET SCHEMA PUBLIC
alter table ListeReponse drop constraint FK_q0kxh55lqptn1s1if4ibdgr9k
alter table ListeReponse drop constraint FK_h54pk5rg27yk7xf2vdyqccd5w
alter table ListeReponse_Reponse drop constraint FK_lhhh43ntfyn2gcol8mq4rv2fi
alter table ListeReponse_Reponse drop constraint FK_s4ycru7mmwvgpb4moibpxd8
alter table Participant_Nourriture drop constraint FK_gjcjp1x9tk9dgwwuttvltmyy0
alter table Participant_Nourriture drop constraint FK_6mfm7ryq746g0cj67wasduxyf
alter table Participant_Nourriture drop constraint FK_45xqn2kmfowpc103l6rgqhq4q
alter table Reponse drop constraint FK_oehdow51wfq9dqh97f9q5ie53
alter table ReponsePossible drop constraint FK_hhos5kiectx4jko457by2gk19
alter table ReponsePossible_Reponse drop constraint FK_a7nm3js40fo0mdm7h5u49vf14
alter table ReponsePossible_Reponse drop constraint FK_7wi9oecc8p5uk3meeqe12hx4l
alter table Reponse_ReponsePossible drop constraint FK_o17xj2syr0m6j54fdc5vy94k
alter table Reponse_ReponsePossible drop constraint FK_qb8livr8tdovbdpr5ob67ebjc
alter table Reunion_Participant drop constraint FK_4xe8b45mfvd5kkche5b9fo0fw
alter table Reunion_Participant drop constraint FK_c0qyld8dd7y2omgryyaw9e4l3
alter table Reunion_Participant drop constraint FK_ky17h0q2t1i74hv9gb7wq228j
alter table Sondages drop constraint FK_agt317ab7ukm17x4jkuusxham
alter table Sondages drop constraint FK_royx09oq4xmdnrlupu2que0co
alter table Sondages_Question drop constraint FK_buv1tqfv0yiwk4m5o92fkwqip
alter table Sondages_Question drop constraint FK_m6ha8m80vvpnfuwnffhyby099
drop table ListeReponse if exists
drop table ListeReponse_Reponse if exists
drop table Nourriture if exists
drop table Participant if exists
drop table Participant_Nourriture if exists
drop table Question if exists
drop table Reponse if exists
drop table ReponsePossible if exists
drop table ReponsePossible_Reponse if exists
drop table Reponse_ReponsePossible if exists
drop table Reunion if exists
drop table Reunion_Participant if exists
drop table Sondages if exists
drop table Sondages_Question if exists
create table ListeReponse (id bigint generated by default as identity (start with 1), participant_email varchar(255), sondage_id bigint, primary key (id))
create table ListeReponse_Reponse (ListeReponse_id bigint not null, reponses_id bigint not null)
create table Nourriture (idAliment integer generated by default as identity (start with 1), nomAliment varchar(255), primary key (idAliment))
create table Participant (email varchar(255) not null, firstname varchar(255), name varchar(255), primary key (email))
create table Participant_Nourriture (Participant_email varchar(255) not null, lesPreferences_idAliment integer not null, lesAllergies_idAliment integer not null)
create table Question (id bigint generated by default as identity (start with 1), enonce varchar(2048), multiple boolean not null, primary key (id))
create table Reponse (id bigint generated by default as identity (start with 1), datereponse date, reponsequestion_id bigint, primary key (id))
create table ReponsePossible (id bigint generated by default as identity (start with 1), correct boolean not null, question_id bigint, primary key (id))
create table ReponsePossible_Reponse (ReponsePossible_id bigint not null, reponse_id bigint not null)
create table Reponse_ReponsePossible (Reponse_id bigint not null, reponsespossibles_id bigint not null)
create table Reunion (id integer generated by default as identity (start with 1), clearCode varchar(255), dateReunion date, intitule varchar(255), lieu varchar(255), pause boolean not null, resume varchar(255), primary key (id))
create table Reunion_Participant (Reunion_id integer not null, participantPresent_email varchar(255) not null, participantAbsent_email varchar(255) not null)
create table Sondages (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), urlPAD varchar(255), createurSondage_email varchar(255), reunion_id integer, primary key (id))
create table Sondages_Question (lesSondages_id bigint not null, questions_id bigint not null)
alter table ListeReponse_Reponse add constraint UK_lhhh43ntfyn2gcol8mq4rv2fi  unique (reponses_id)
alter table ListeReponse add constraint FK_q0kxh55lqptn1s1if4ibdgr9k foreign key (participant_email) references Participant
alter table ListeReponse add constraint FK_h54pk5rg27yk7xf2vdyqccd5w foreign key (sondage_id) references Sondages
alter table ListeReponse_Reponse add constraint FK_lhhh43ntfyn2gcol8mq4rv2fi foreign key (reponses_id) references Reponse
alter table ListeReponse_Reponse add constraint FK_s4ycru7mmwvgpb4moibpxd8 foreign key (ListeReponse_id) references ListeReponse
alter table Participant_Nourriture add constraint FK_gjcjp1x9tk9dgwwuttvltmyy0 foreign key (lesPreferences_idAliment) references Nourriture
alter table Participant_Nourriture add constraint FK_6mfm7ryq746g0cj67wasduxyf foreign key (Participant_email) references Participant
alter table Participant_Nourriture add constraint FK_45xqn2kmfowpc103l6rgqhq4q foreign key (lesAllergies_idAliment) references Nourriture
alter table Reponse add constraint FK_oehdow51wfq9dqh97f9q5ie53 foreign key (reponsequestion_id) references ListeReponse
alter table ReponsePossible add constraint FK_hhos5kiectx4jko457by2gk19 foreign key (question_id) references Question
alter table ReponsePossible_Reponse add constraint FK_a7nm3js40fo0mdm7h5u49vf14 foreign key (reponse_id) references Reponse
alter table ReponsePossible_Reponse add constraint FK_7wi9oecc8p5uk3meeqe12hx4l foreign key (ReponsePossible_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_o17xj2syr0m6j54fdc5vy94k foreign key (reponsespossibles_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_qb8livr8tdovbdpr5ob67ebjc foreign key (Reponse_id) references Reponse
alter table Reunion_Participant add constraint FK_4xe8b45mfvd5kkche5b9fo0fw foreign key (participantPresent_email) references Participant
alter table Reunion_Participant add constraint FK_c0qyld8dd7y2omgryyaw9e4l3 foreign key (Reunion_id) references Reunion
alter table Reunion_Participant add constraint FK_ky17h0q2t1i74hv9gb7wq228j foreign key (participantAbsent_email) references Participant
alter table Sondages add constraint FK_agt317ab7ukm17x4jkuusxham foreign key (createurSondage_email) references Participant
alter table Sondages add constraint FK_royx09oq4xmdnrlupu2que0co foreign key (reunion_id) references Reunion
alter table Sondages_Question add constraint FK_buv1tqfv0yiwk4m5o92fkwqip foreign key (questions_id) references Question
alter table Sondages_Question add constraint FK_m6ha8m80vvpnfuwnffhyby099 foreign key (lesSondages_id) references Sondages
INSERT INTO PARTICIPANT VALUES('dfghjk@dfgh.fr','Thomas','Guessant')
INSERT INTO PARTICIPANT VALUES('sdfghjuk@ndhfyhnf.fr','Nemo','Captain')
INSERT INTO QUESTION VALUES(1,'La question 1',FALSE)
INSERT INTO QUESTION VALUES(2,'La question 2',FALSE)
INSERT INTO REUNION VALUES(1,NULL,NULL,NULL,NULL,FALSE,NULL)
INSERT INTO SONDAGES VALUES(1,'Sondage sur le theme..',NULL,NULL,NULL,1)
INSERT INTO SONDAGES_QUESTION VALUES(1,1)
INSERT INTO SONDAGES_QUESTION VALUES(1,2)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table ListeReponse drop constraint FK_q0kxh55lqptn1s1if4ibdgr9k
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
alter table ListeReponse drop constraint FK_h54pk5rg27yk7xf2vdyqccd5w
alter table ListeReponse_Reponse drop constraint FK_lhhh43ntfyn2gcol8mq4rv2fi
alter table ListeReponse_Reponse drop constraint FK_s4ycru7mmwvgpb4moibpxd8
alter table Participant_Nourriture drop constraint FK_gjcjp1x9tk9dgwwuttvltmyy0
alter table Participant_Nourriture drop constraint FK_6mfm7ryq746g0cj67wasduxyf
alter table Participant_Nourriture drop constraint FK_45xqn2kmfowpc103l6rgqhq4q
alter table Reponse drop constraint FK_oehdow51wfq9dqh97f9q5ie53
alter table ReponsePossible drop constraint FK_hhos5kiectx4jko457by2gk19
alter table ReponsePossible_Reponse drop constraint FK_a7nm3js40fo0mdm7h5u49vf14
alter table ReponsePossible_Reponse drop constraint FK_7wi9oecc8p5uk3meeqe12hx4l
alter table Reponse_ReponsePossible drop constraint FK_o17xj2syr0m6j54fdc5vy94k
alter table Reponse_ReponsePossible drop constraint FK_qb8livr8tdovbdpr5ob67ebjc
alter table Reunion_Participant drop constraint FK_4xe8b45mfvd5kkche5b9fo0fw
alter table Reunion_Participant drop constraint FK_c0qyld8dd7y2omgryyaw9e4l3
alter table Reunion_Participant drop constraint FK_ky17h0q2t1i74hv9gb7wq228j
alter table Sondages drop constraint FK_agt317ab7ukm17x4jkuusxham
alter table Sondages drop constraint FK_royx09oq4xmdnrlupu2que0co
alter table Sondages_Question drop constraint FK_buv1tqfv0yiwk4m5o92fkwqip
alter table Sondages_Question drop constraint FK_m6ha8m80vvpnfuwnffhyby099
drop table ListeReponse if exists
drop table ListeReponse_Reponse if exists
drop table Nourriture if exists
drop table Participant if exists
drop table Participant_Nourriture if exists
drop table Question if exists
drop table Reponse if exists
drop table ReponsePossible if exists
drop table ReponsePossible_Reponse if exists
drop table Reponse_ReponsePossible if exists
drop table Reunion if exists
drop table Reunion_Participant if exists
drop table Sondages if exists
drop table Sondages_Question if exists
create table ListeReponse (id bigint generated by default as identity (start with 1), participant_email varchar(255), sondage_id bigint, primary key (id))
create table ListeReponse_Reponse (ListeReponse_id bigint not null, reponses_id bigint not null)
create table Nourriture (idAliment integer generated by default as identity (start with 1), nomAliment varchar(255), primary key (idAliment))
create table Participant (email varchar(255) not null, firstname varchar(255), name varchar(255), primary key (email))
create table Participant_Nourriture (Participant_email varchar(255) not null, lesPreferences_idAliment integer not null, lesAllergies_idAliment integer not null)
create table Question (id bigint generated by default as identity (start with 1), enonce varchar(2048), multiple boolean not null, primary key (id))
create table Reponse (id bigint generated by default as identity (start with 1), datereponse date, reponsequestion_id bigint, primary key (id))
create table ReponsePossible (id bigint generated by default as identity (start with 1), correct boolean not null, question_id bigint, primary key (id))
create table ReponsePossible_Reponse (ReponsePossible_id bigint not null, reponse_id bigint not null)
create table Reponse_ReponsePossible (Reponse_id bigint not null, reponsespossibles_id bigint not null)
create table Reunion (id integer generated by default as identity (start with 1), clearCode varchar(255), dateReunion date, intitule varchar(255), lieu varchar(255), pause boolean not null, resume varchar(255), primary key (id))
create table Reunion_Participant (Reunion_id integer not null, participantPresent_email varchar(255) not null, participantAbsent_email varchar(255) not null)
create table Sondages (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), urlPAD varchar(255), createurSondage_email varchar(255), reunion_id integer, primary key (id))
create table Sondages_Question (lesSondages_id bigint not null, questions_id bigint not null)
alter table ListeReponse_Reponse add constraint UK_lhhh43ntfyn2gcol8mq4rv2fi  unique (reponses_id)
alter table ListeReponse add constraint FK_q0kxh55lqptn1s1if4ibdgr9k foreign key (participant_email) references Participant
alter table ListeReponse add constraint FK_h54pk5rg27yk7xf2vdyqccd5w foreign key (sondage_id) references Sondages
alter table ListeReponse_Reponse add constraint FK_lhhh43ntfyn2gcol8mq4rv2fi foreign key (reponses_id) references Reponse
alter table ListeReponse_Reponse add constraint FK_s4ycru7mmwvgpb4moibpxd8 foreign key (ListeReponse_id) references ListeReponse
alter table Participant_Nourriture add constraint FK_gjcjp1x9tk9dgwwuttvltmyy0 foreign key (lesPreferences_idAliment) references Nourriture
alter table Participant_Nourriture add constraint FK_6mfm7ryq746g0cj67wasduxyf foreign key (Participant_email) references Participant
alter table Participant_Nourriture add constraint FK_45xqn2kmfowpc103l6rgqhq4q foreign key (lesAllergies_idAliment) references Nourriture
alter table Reponse add constraint FK_oehdow51wfq9dqh97f9q5ie53 foreign key (reponsequestion_id) references ListeReponse
alter table ReponsePossible add constraint FK_hhos5kiectx4jko457by2gk19 foreign key (question_id) references Question
alter table ReponsePossible_Reponse add constraint FK_a7nm3js40fo0mdm7h5u49vf14 foreign key (reponse_id) references Reponse
alter table ReponsePossible_Reponse add constraint FK_7wi9oecc8p5uk3meeqe12hx4l foreign key (ReponsePossible_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_o17xj2syr0m6j54fdc5vy94k foreign key (reponsespossibles_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_qb8livr8tdovbdpr5ob67ebjc foreign key (Reponse_id) references Reponse
alter table Reunion_Participant add constraint FK_4xe8b45mfvd5kkche5b9fo0fw foreign key (participantPresent_email) references Participant
alter table Reunion_Participant add constraint FK_c0qyld8dd7y2omgryyaw9e4l3 foreign key (Reunion_id) references Reunion
alter table Reunion_Participant add constraint FK_ky17h0q2t1i74hv9gb7wq228j foreign key (participantAbsent_email) references Participant
alter table Sondages add constraint FK_agt317ab7ukm17x4jkuusxham foreign key (createurSondage_email) references Participant
alter table Sondages add constraint FK_royx09oq4xmdnrlupu2que0co foreign key (reunion_id) references Reunion
alter table Sondages_Question add constraint FK_buv1tqfv0yiwk4m5o92fkwqip foreign key (questions_id) references Question
alter table Sondages_Question add constraint FK_m6ha8m80vvpnfuwnffhyby099 foreign key (lesSondages_id) references Sondages
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
alter table ListeReponse drop constraint FK_q0kxh55lqptn1s1if4ibdgr9k
alter table ListeReponse drop constraint FK_h54pk5rg27yk7xf2vdyqccd5w
alter table ListeReponse_Reponse drop constraint FK_lhhh43ntfyn2gcol8mq4rv2fi
alter table ListeReponse_Reponse drop constraint FK_s4ycru7mmwvgpb4moibpxd8
alter table Participant_Nourriture drop constraint FK_gjcjp1x9tk9dgwwuttvltmyy0
alter table Participant_Nourriture drop constraint FK_6mfm7ryq746g0cj67wasduxyf
alter table Participant_Nourriture drop constraint FK_45xqn2kmfowpc103l6rgqhq4q
alter table Reponse drop constraint FK_oehdow51wfq9dqh97f9q5ie53
alter table ReponsePossible drop constraint FK_hhos5kiectx4jko457by2gk19
alter table ReponsePossible_Reponse drop constraint FK_a7nm3js40fo0mdm7h5u49vf14
alter table ReponsePossible_Reponse drop constraint FK_7wi9oecc8p5uk3meeqe12hx4l
alter table Reponse_ReponsePossible drop constraint FK_o17xj2syr0m6j54fdc5vy94k
alter table Reponse_ReponsePossible drop constraint FK_qb8livr8tdovbdpr5ob67ebjc
alter table Reunion_Participant drop constraint FK_4xe8b45mfvd5kkche5b9fo0fw
alter table Reunion_Participant drop constraint FK_c0qyld8dd7y2omgryyaw9e4l3
alter table Reunion_Participant drop constraint FK_ky17h0q2t1i74hv9gb7wq228j
alter table Sondages drop constraint FK_agt317ab7ukm17x4jkuusxham
alter table Sondages drop constraint FK_royx09oq4xmdnrlupu2que0co
alter table Sondages_Question drop constraint FK_buv1tqfv0yiwk4m5o92fkwqip
alter table Sondages_Question drop constraint FK_m6ha8m80vvpnfuwnffhyby099
drop table ListeReponse if exists
drop table ListeReponse_Reponse if exists
drop table Nourriture if exists
drop table Participant if exists
drop table Participant_Nourriture if exists
drop table Question if exists
drop table Reponse if exists
drop table ReponsePossible if exists
drop table ReponsePossible_Reponse if exists
drop table Reponse_ReponsePossible if exists
drop table Reunion if exists
drop table Reunion_Participant if exists
drop table Sondages if exists
drop table Sondages_Question if exists
create table ListeReponse (id bigint generated by default as identity (start with 1), participant_email varchar(255), sondage_id bigint, primary key (id))
create table ListeReponse_Reponse (ListeReponse_id bigint not null, reponses_id bigint not null)
create table Nourriture (idAliment integer generated by default as identity (start with 1), nomAliment varchar(255), primary key (idAliment))
create table Participant (email varchar(255) not null, firstname varchar(255), name varchar(255), primary key (email))
create table Participant_Nourriture (Participant_email varchar(255) not null, lesPreferences_idAliment integer not null, lesAllergies_idAliment integer not null)
create table Question (id bigint generated by default as identity (start with 1), enonce varchar(2048), multiple boolean not null, primary key (id))
create table Reponse (id bigint generated by default as identity (start with 1), datereponse date, reponsequestion_id bigint, primary key (id))
create table ReponsePossible (id bigint generated by default as identity (start with 1), correct boolean not null, question_id bigint, primary key (id))
create table ReponsePossible_Reponse (ReponsePossible_id bigint not null, reponse_id bigint not null)
create table Reponse_ReponsePossible (Reponse_id bigint not null, reponsespossibles_id bigint not null)
create table Reunion (id integer generated by default as identity (start with 1), clearCode varchar(255), dateReunion date, intitule varchar(255), lieu varchar(255), pause boolean not null, resume varchar(255), primary key (id))
create table Reunion_Participant (Reunion_id integer not null, participantPresent_email varchar(255) not null, participantAbsent_email varchar(255) not null)
create table Sondages (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), urlPAD varchar(255), createurSondage_email varchar(255), reunion_id integer, primary key (id))
create table Sondages_Question (lesSondages_id bigint not null, questions_id bigint not null)
alter table ListeReponse_Reponse add constraint UK_lhhh43ntfyn2gcol8mq4rv2fi  unique (reponses_id)
alter table ListeReponse add constraint FK_q0kxh55lqptn1s1if4ibdgr9k foreign key (participant_email) references Participant
alter table ListeReponse add constraint FK_h54pk5rg27yk7xf2vdyqccd5w foreign key (sondage_id) references Sondages
alter table ListeReponse_Reponse add constraint FK_lhhh43ntfyn2gcol8mq4rv2fi foreign key (reponses_id) references Reponse
alter table ListeReponse_Reponse add constraint FK_s4ycru7mmwvgpb4moibpxd8 foreign key (ListeReponse_id) references ListeReponse
alter table Participant_Nourriture add constraint FK_gjcjp1x9tk9dgwwuttvltmyy0 foreign key (lesPreferences_idAliment) references Nourriture
alter table Participant_Nourriture add constraint FK_6mfm7ryq746g0cj67wasduxyf foreign key (Participant_email) references Participant
alter table Participant_Nourriture add constraint FK_45xqn2kmfowpc103l6rgqhq4q foreign key (lesAllergies_idAliment) references Nourriture
alter table Reponse add constraint FK_oehdow51wfq9dqh97f9q5ie53 foreign key (reponsequestion_id) references ListeReponse
alter table ReponsePossible add constraint FK_hhos5kiectx4jko457by2gk19 foreign key (question_id) references Question
alter table ReponsePossible_Reponse add constraint FK_a7nm3js40fo0mdm7h5u49vf14 foreign key (reponse_id) references Reponse
alter table ReponsePossible_Reponse add constraint FK_7wi9oecc8p5uk3meeqe12hx4l foreign key (ReponsePossible_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_o17xj2syr0m6j54fdc5vy94k foreign key (reponsespossibles_id) references ReponsePossible
alter table Reponse_ReponsePossible add constraint FK_qb8livr8tdovbdpr5ob67ebjc foreign key (Reponse_id) references Reponse
alter table Reunion_Participant add constraint FK_4xe8b45mfvd5kkche5b9fo0fw foreign key (participantPresent_email) references Participant
alter table Reunion_Participant add constraint FK_c0qyld8dd7y2omgryyaw9e4l3 foreign key (Reunion_id) references Reunion
alter table Reunion_Participant add constraint FK_ky17h0q2t1i74hv9gb7wq228j foreign key (participantAbsent_email) references Participant
alter table Sondages add constraint FK_agt317ab7ukm17x4jkuusxham foreign key (createurSondage_email) references Participant
alter table Sondages add constraint FK_royx09oq4xmdnrlupu2que0co foreign key (reunion_id) references Reunion
alter table Sondages_Question add constraint FK_buv1tqfv0yiwk4m5o92fkwqip foreign key (questions_id) references Question
alter table Sondages_Question add constraint FK_m6ha8m80vvpnfuwnffhyby099 foreign key (lesSondages_id) references Sondages
DISCONNECT
